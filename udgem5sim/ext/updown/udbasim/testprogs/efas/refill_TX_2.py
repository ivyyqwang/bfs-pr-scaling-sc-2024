from EFA_v2 import *
def refill_TX_2():
    efa = EFA([])
    efa.code_level = "machine"
    state = State()
    efa.add_initId(state.state_id)
    efa.add_state(state)
    state1 = State()
    state1.alphabet = [0-255]
    efa.add_state(state1)
    state2 = State()
    state2.alphabet = [0-255]
    efa.add_state(state2)
    tran0 = state.writeTransition("refill_with_action", state, state1, 1)
    tran0.writeAction("movir X17 0")
    tran0.writeAction("add X7 X17 X17")
    tran0.writeAction("movir X16 65377")
    tran0.writeAction("slorii X16 X16 12 4021")
    tran0.writeAction("slorii X16 X16 12 38")
    tran0.writeAction("slorii X16 X16 12 3209")
    tran0.writeAction("slorii X16 X16 12 1091")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 28644")
    tran0.writeAction("slorii X16 X16 12 1299")
    tran0.writeAction("slorii X16 X16 12 1476")
    tran0.writeAction("slorii X16 X16 12 390")
    tran0.writeAction("slorii X16 X16 12 3737")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 24470")
    tran0.writeAction("slorii X16 X16 12 2258")
    tran0.writeAction("slorii X16 X16 12 660")
    tran0.writeAction("slorii X16 X16 12 242")
    tran0.writeAction("slorii X16 X16 12 2867")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 19615")
    tran0.writeAction("slorii X16 X16 12 2405")
    tran0.writeAction("slorii X16 X16 12 1869")
    tran0.writeAction("slorii X16 X16 12 3650")
    tran0.writeAction("slorii X16 X16 12 792")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 43301")
    tran0.writeAction("slorii X16 X16 12 566")
    tran0.writeAction("slorii X16 X16 12 3613")
    tran0.writeAction("slorii X16 X16 12 2744")
    tran0.writeAction("slorii X16 X16 12 3866")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 24772")
    tran0.writeAction("slorii X16 X16 12 2543")
    tran0.writeAction("slorii X16 X16 12 3747")
    tran0.writeAction("slorii X16 X16 12 407")
    tran0.writeAction("slorii X16 X16 12 4013")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 10688")
    tran0.writeAction("slorii X16 X16 12 1518")
    tran0.writeAction("slorii X16 X16 12 3135")
    tran0.writeAction("slorii X16 X16 12 3500")
    tran0.writeAction("slorii X16 X16 12 1124")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 56817")
    tran0.writeAction("slorii X16 X16 12 3644")
    tran0.writeAction("slorii X16 X16 12 2949")
    tran0.writeAction("slorii X16 X16 12 1199")
    tran0.writeAction("slorii X16 X16 12 2636")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X18 1")
    tran0.writeAction("sli X18 X18 23")
    tran0.writeAction("or X18 X2 X2")
    tran0.writeAction("movir X16 65377")
    tran0.writeAction("slorii X16 X16 12 4021")
    tran0.writeAction("slorii X16 X16 12 38")
    tran0.writeAction("slorii X16 X16 12 3209")
    tran0.writeAction("slorii X16 X16 12 1091")
    tran0.writeAction("sri X16 X16 41")
    tran0.writeAction("sli X16 X16 41")
    tran0.writeAction("movir X17 0")
    tran0.writeAction("sli X17 X17 40")
    tran0.writeAction("or X17 X16 X16")
    tran0.writeAction("movir X17 1")
    tran0.writeAction("sli X17 X17 36")
    tran0.writeAction("or X17 X16 X16")
    tran0.writeAction("movir X17 5")
    tran0.writeAction("sli X17 X17 32")
    tran0.writeAction("or X17 X16 X16")
    tran0.writeAction("movir X20 0")
    tran0.writeAction("add X20 X7 X5")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("addi X20 X17 15")
    tran0.writeAction("or X17 X16 X4")
    tran0.writeAction("addi X4 X18 0")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("movir X31 0")
    tran0.writeAction("lastact")
    tran1 = state1.writeTransition("refill_with_action", state1, state2, 67, 1)
    tran1.writeAction("movir X30 1")
    tran1.writeAction("addi X5 X17 0")
    tran1.writeAction("lastact")
    tran3 = state1.writeTransition("refill_with_action", state1, state2, 255, 1)
    tran3.writeAction("movir X30 2")
    tran3.writeAction("addi X5 X17 0")
    tran3.writeAction("lastact")
    tran2 = state2.writeTransition("refill_with_action", state2, state2, 80, 4)
    tran2.writeAction("movir X31 1")
    tran2.writeAction("addi X5 X18 0")
    tran2.writeAction("yieldt")
    tran4 = state2.writeTransition("refill_with_action", state2, state1, 255, 4)
    tran4.writeAction("movir X31 2")
    tran4.writeAction("addi X5 X18 0")
    tran4.writeAction("yieldt")
    efa.appendBlockAction("end_of_input_terminate_efa1","movir X29 10")
    efa.appendBlockAction("end_of_input_terminate_efa1","yieldt")
    efa.linkBlocktoState("end_of_input_terminate_efa1", state2)
    return efa
