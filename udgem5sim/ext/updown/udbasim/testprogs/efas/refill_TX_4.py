from EFA_v2 import *
def refill_TX_4():
    efa = EFA([])
    efa.code_level = "machine"
    state = State()
    efa.add_initId(state.state_id)
    efa.add_state(state)
    state1 = State()
    state1.alphabet = [0-255]
    efa.add_state(state1)
    state2 = State()
    state2.alphabet = [0-255]
    efa.add_state(state2)
    tran0 = state.writeTransition("refill_with_action", state, state1, 1)
    tran0.writeAction("movir X17 0")
    tran0.writeAction("add X7 X17 X17")
    tran0.writeAction("movir X16 0")
    tran0.writeAction("slorii X16 X16 12 2416")
    tran0.writeAction("slorii X16 X16 12 1536")
    tran0.writeAction("slorii X16 X16 12 0")
    tran0.writeAction("slorii X16 X16 12 68")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 47807")
    tran0.writeAction("slorii X16 X16 12 1780")
    tran0.writeAction("slorii X16 X16 12 2492")
    tran0.writeAction("slorii X16 X16 12 3345")
    tran0.writeAction("slorii X16 X16 12 768")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 12207")
    tran0.writeAction("slorii X16 X16 12 4063")
    tran0.writeAction("slorii X16 X16 12 1471")
    tran0.writeAction("slorii X16 X16 12 2789")
    tran0.writeAction("slorii X16 X16 12 737")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 5281")
    tran0.writeAction("slorii X16 X16 12 2279")
    tran0.writeAction("slorii X16 X16 12 1802")
    tran0.writeAction("slorii X16 X16 12 2556")
    tran0.writeAction("slorii X16 X16 12 3920")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 57088")
    tran0.writeAction("slorii X16 X16 12 1696")
    tran0.writeAction("slorii X16 X16 12 3937")
    tran0.writeAction("slorii X16 X16 12 3325")
    tran0.writeAction("slorii X16 X16 12 1062")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 5910")
    tran0.writeAction("slorii X16 X16 12 530")
    tran0.writeAction("slorii X16 X16 12 57")
    tran0.writeAction("slorii X16 X16 12 4034")
    tran0.writeAction("slorii X16 X16 12 3185")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 41411")
    tran0.writeAction("slorii X16 X16 12 2626")
    tran0.writeAction("slorii X16 X16 12 1737")
    tran0.writeAction("slorii X16 X16 12 1622")
    tran0.writeAction("slorii X16 X16 12 3982")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X16 63532")
    tran0.writeAction("slorii X16 X16 12 1475")
    tran0.writeAction("slorii X16 X16 12 2440")
    tran0.writeAction("slorii X16 X16 12 1537")
    tran0.writeAction("slorii X16 X16 12 1239")
    tran0.writeAction("movrl X16 0(X17) 1 8")
    tran0.writeAction("movir X18 1")
    tran0.writeAction("sli X18 X18 23")
    tran0.writeAction("or X18 X2 X2")
    tran0.writeAction("movir X16 0")
    tran0.writeAction("slorii X16 X16 12 2416")
    tran0.writeAction("slorii X16 X16 12 1536")
    tran0.writeAction("slorii X16 X16 12 0")
    tran0.writeAction("slorii X16 X16 12 68")
    tran0.writeAction("sri X16 X16 41")
    tran0.writeAction("sli X16 X16 41")
    tran0.writeAction("movir X17 0")
    tran0.writeAction("sli X17 X17 40")
    tran0.writeAction("or X17 X16 X16")
    tran0.writeAction("movir X17 4")
    tran0.writeAction("sli X17 X17 36")
    tran0.writeAction("or X17 X16 X16")
    tran0.writeAction("movir X17 6")
    tran0.writeAction("sli X17 X17 32")
    tran0.writeAction("or X17 X16 X16")
    tran0.writeAction("movir X20 0")
    tran0.writeAction("add X20 X7 X5")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("addi X20 X17 18")
    tran0.writeAction("or X17 X16 X4")
    tran0.writeAction("addi X4 X18 0")
    tran0.writeAction("movir X30 0")
    tran0.writeAction("movir X31 0")
    tran0.writeAction("lastact")
    tran1 = state1.writeTransition("refill_with_action", state1, state2, 68, 1)
    tran1.writeAction("movir X30 1")
    tran1.writeAction("addi X5 X17 0")
    tran1.writeAction("lastact")
    tran3 = state1.writeTransition("refill_with_action", state1, state2, 255, 1)
    tran3.writeAction("movir X30 2")
    tran3.writeAction("addi X5 X17 0")
    tran3.writeAction("lastact")
    tran2 = state2.writeTransition("refill_with_action", state2, state2, 151, 3)
    tran2.writeAction("movir X31 1")
    tran2.writeAction("addi X5 X18 0")
    tran2.writeAction("yieldt")
    tran4 = state2.writeTransition("refill_with_action", state2, state1, 255, 3)
    tran4.writeAction("movir X31 2")
    tran4.writeAction("addi X5 X18 0")
    tran4.writeAction("yieldt")
    efa.appendBlockAction("end_of_input_terminate_efa1","movir X29 10")
    efa.appendBlockAction("end_of_input_terminate_efa1","yieldt")
    efa.linkBlocktoState("end_of_input_terminate_efa1", state2)
    return efa
